<!DOCTYPE html>
<!-- list.html -->

<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout/layout}">
<!--    `layout:decorate` specifies which layout to include in current HTML. -->

    <head>
        <title> User List </title>
        <link rel="stylesheet" th:href="@{/css/user/list.css}">
    </head>

    <body>
        <div layout:fragment="content">
            <div class="header border-bottom">
                <h1 class="h2"> User List </h1>
            </div>
            <div class="mb-4">
                <form id="user-search-form" method="post" th:action="@{/user/list}" class="row g-3 align-items-center" th:object="${userListForm}">
                    <div class="col-auto">
                        <label for="userId"> User ID </label>
                    </div>
                    <div class="col-auto">
                        <input type="text" class="form-control" th:field="*{userId}" id="userId"/>
                    </div>
                    <div class="col-auto">
                        <label for="userName"> User Name </label>
                    </div>
                    <div class="col-auto mx-sm-3">
                        <input type="text" class="form-control" th:feild="*{userName}" id="userName"/>
                    </div>
                    <div class="col-auto">
                        <button class="btn btn-primary" type="submit"> search </button>
                    </div>
                </form>
            </div>
            <!-- List display -->
            <div>
                <table class="table table-striped table-bordered table-hover">
                    <thead class="thead-light">
                        <tr>
                            <th class="th-width"> User ID </th>
                            <th class="th-width"> User Name </th>
                            <th class="th-width"> Birthday </th>
                            <th class="th-width"> Age </th>
                            <th class="th-width"> Gender </th>
                            <th> </th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr th:each="item:${userList}">
                            <td th:text="${item.userId}"> </td>
                            <td th:text="${item.userName}"> </td>
                            <td th:text="${#dates.format(item.birthday, 'dd/MM/YYYY')}"> </td>
                            <td th:text="${item.age}"> </td>
                            <td th:text="${item.gender == 1}? 'Male':'Female'"> </td>
                            <td>
                                <a class="btn btn-primary" th:href="@{'/user/detail/' + ${item.userId}}"> Details </a>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </body>
</html>